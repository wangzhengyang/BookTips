[toc]

# Bash手册
**man**命令来访问存储在Linux系统上的手册页面
## Linux手册页惯用的节名
|节|描述|
|-|-|
|Name|显示命令名和一段简短的描述|
|Synopsis|命令的语法|
|Confi guration|命令配置信息|
|Description|命令的一般性描述|
|Options|命令选项描述|
|Exit Status|命令的退出状态指令|
|Return Value|命令的返回值|
|Errors|命令的错误信息|
|Environment|描述所使用的环境变量|
|Files|命令用到的文件|
|Versions|命令的版本信息|
|Conforming To|命令所遵从的标准|
|Notes|其他有帮助的资料|
|Bugs|提供提交bug的途径|
|Example|展示命令的用法|
|Authors|命令开发人员的信息|
|Copyright|命令源代码的版权状况|
|See Also|与该命令类型的其他命令|
## Linux手册页的内容区域
|区域号|所涵盖的内容|
|-|-|
|1|可执行程序或shell命令|
|2|系统调用|
|3|库调用|
|4|特殊文件|
|5|文件格式与约定|
|6|游戏|
|7|概览、约定及杂项|
|8|超级用户和系统管理员命令|
|9|内核例程|
# 浏览文件系统
## 常见Linux目录名称
|目录|用途|
|-|-|
|/|虚拟目录的根目录。通常不会再这里存储文件
|/bin|二级制目录，存放许多用户级的GNU工具|
|/boot|启动目录，存放启动文件|
|/dev|设备目录，Linux在这里创建设备结点|
|/etc|系统配置文件目录|
|/home|主目录，Linux在这里创建用户目录|
|/lib|库目录，存放系统和应用程序的库文件|
|/media|媒体目录，可移动媒体设备的常用挂载点|
|/mnt|挂载目录，另一个可移动媒体设备的常用挂载点|
|/opt|可选目录，常用于存放第三方软件包和数据文件|
|/proc|进程目录，存放现有硬件及当前进程的相关信息|
|/root|root用户的主目录|
|/sbin|系统二进制目录，存放许多GNU管理员级工具|
|/run|运行目录，存放系统运行时的运行时数据|
|/srv|服务目录，存放本地服务的相关文件|
|/sys|系统目录，存放系统硬件信息的相关文件|
|/tmp|临时目录，可以在该目录中创建和删除临时工作文件|
|/usr|用户二级制目录，大量用户级的GNU工具和数据文件都存放在这里
|/var|可变目录，用以存放经常变化的文件，比如日志文件
## 遍历目录
```bash
cd destination
```
## 显示当前目录
```bash
pwd
```
# 文件和目录列表
## 显示当前目录下的文件和目录
```bash
ls
```
|选项|描述|
|-|-|
|-F|区分文件和目录|
|-d|只显示目录|
|-a|显示隐藏文件|
|-i|显示inode编号|
|-R|递归列出当前目录下包含子目录的文件|
|-l|长列表格式输出|
|--time=atime|显示出更改过的文件访问时间|
## 过滤输出列表
|符号|描述|
|-|-|
|？|代表一个字符|
|*|代表零个或多个字符|
|[a-i]|特定位置可能出现的字符|
|[!a]|将不需要的内容排除在外
# 处理文件
## 创建文件
```bash
touch file
```
1. 创建指定的新文件，并将你的用户名作为文件的属主，但是所创建的文件是一个空文件，文件的大小为零；
2. 用来改变文件的修改时间，并不改变文件的内容

|选项|描述|
|-|-|
|-a|只改变访问时间|
## 复制文件
```bash
cp source destination
```
|选项|描述|
|-|-|
|-i|强制shell询问是否需要覆盖已有文件|
|-R|递归复制整个目录内容|
## 链接文件
1. 符号链接：一个实实在在的文件，它指向存放在虚拟目录结构中某个地方的另一个文件。这两个通过符号链接在一起的文件，彼此的内容并不相同
2. 硬链接：创建独立的虚拟文件，其中包含了原始文件的信息及位置，但从根本上而言是同一个文件
```bash
ln source destination
```
|选项|描述|
|-|-|
|-s|创建符号链接|
## 重命名文件
```bash
mv source destination
```
1. 将文件和目录移动到另一个位置
2. 重新命名；只影响文件名，但inode编号和时间戳保持不变

|选项|描述|
|-|-|
|-i|强制shell询问是否需要覆盖已有文件|
## 删除文件
```bash
rm source
```
|选项|描述|
|-|-|
|-i|提示是否删除该文件|
|-f|强制删除|
# 处理目录
## 创建目录
```bash
mkdir directory
```
|参数|选项|
|-|-|
|-p|同时创建多个目录和子目录|
## 删除目录
```bash
rmdir directory
```
`rmdir`命令只删除空目录

**rm -rf 务必谨慎使用**
# 查看文件内容
## 查看文件类型
```bash
file source
```
## 查看整个文件
1. `cat`命令
```bash
cat source
```
显示文本文件中所有数据

|选项|描述|
|-|-|
|-n|给所有行加上行号|
|-b|只给有文本的行加上行号|
|-T|不显示制表符|
2. `more`命令
```bash
more source
```
显示文本文件内容，但会在显示每页数据之后停下来
3. `less`命令
```bash
less source
```
一次显示一屏的文件文本
## 查看部分文件
1. `tail`命令
```bash
tail source
```
|选项|描述|
|-|-|
|-n or -5|修改所显示的行数|
|-f|允许在其他进程使用该文件时查看文件的内容；会保持活动状态，并不断显示添加到文件中的内容|
**tail -f log 实时监测系统日志**
2. `head`命令
```bash
head source
```
显示开头那些行的内容
|选项|描述|
|-|-|
|-n or -5|修改所显示的行数| 
# 监测程序
## 探查进程
```bash
ps
```
|选项|描述|
|-|-|
|-e|显示所有进程|
|-f|显示完整格式的输出|
|-l|长格式输出|
## 实时监测进程
```bash
top
```
## 结束进程
|信号|名称|描述|
|-|-|-|
|1|HUP|挂起|
|2|INT|中断|
|3|QUIT|结束运行|
|9|KILL|无条件终止|
|11|SEGV|段错误|
|15|TERM|尽可能终止|
|17|STOP|无条件停止运行，但不终止|
|18|TSTP|停止或暂停，但继续在后台运行|
|19|CONT|在STOP或TSTP之后恢复执行|
1. `kill`命令
```bash
kill pid
```
默认发送TERM信号
|选项|描述|
|-|-|
|-s HUP or -1|指定发送的信号量|
2. `killall`命令
```bash
killall source
```
支持使用通配符通过进程名来结束进程
# 监测磁盘空间
## 挂载存储媒体
1. `mount`命令
```bash
mount
```
输出当前系统上挂载的设备列表
```bash
mount -t type device directory
```
手动挂载媒体设备
|type|描述|
|-|-|
|vfat|Windows长文件系统|
|ntfs|Windows NT、XP、Vista以及Windows 7中广泛使用的高级文件系统|
|iso9660|标准CD-ROM文件系统|
2. `umount`命令
```
umount [directory | device]
```
卸载设备
3. `df`命令
```bash
df
```
显示每个有数据的已挂载文件系统
|参数|描述|
|-|-|
|-h|把输出中的磁盘空间按照用户易读的形式显示，通常用M来替代兆字节，用G替代吉字节|
4. `du`命令
```bash
du
```
显示某个特定目录(默认情况下是当前目录)的磁盘使用情况
|选项|描述|
|-|-|
|-c|显示所有已列出文件总的大小|
|-h|按照用户易读的格式输出大小，即用K替代千字节，用M替代兆字节，用G替代吉字节|
|-s|显示每个输出参数的总计|
# 处理数据文件
## 排序文件
```bash
sort source
```
|选项|描述|
|-|-|
|-n|把数字识别成数字而不是字符|
-M|识别三字符的月份名，按月排序|
|-k(--key=POS1[,POS2])|排序从POS1位置开始，如果指定了POS2的话，到POS2位置结束|
|-t(--field-separator=SEP)|指定一个用来区分键位置的字符|
|-r|将结果按降序输出|
## 搜索数据
```bash
grep [options] pattern [file]
```
|选项|描述|
|-|-|
|-v|反向搜索(输出不匹配该模式的行)|
|-n|显示匹配模式的行所在的行号
|-c|显示多少行含有匹配的模式|
|-e|指定多个匹配模式|
## 压缩数据
|工具|文件扩展名|描述|
|-|-|-|
|bzip2|.bz2|采用Burrows-Wheeler块排序文本压缩算法和霍夫曼编码|
|compress|.Z|最初的Unix文件压缩工具，已经快没人用了|
|gzip|.gz|GNU压缩工具，用Lempel-Ziv编码|
|zip|.zip|Windows上PKZIP工具的Unix实现|
```bash
gzip source
```
## 归档数据
```bash
tar function [options] object1 object2 ...
```
用来将文件写到磁带设备上归档，而且也能把输出写到文件里
|选项|描述|
|-|-|
|-C dir|切换到指定目录|
|-f file|输出结果到文件或设备file|
|-j|将输出重定向给bzip2命令来压缩内容|
|-p|保留所有文件权限|
|-v|在处理文件时显示文件|
|-z|将输出重定向给gzip命令来压缩内容|
